<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>React App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div class = "container">
      <div class = "header">
        <h1>QR Code Generator</h1>
        <p>Type a url or text to generator QR Code</p>
      </div>
      <div class = "input-form">
        <input type = "text" class = "qr-input" placeholder = "Enter url or text">
        <button class ="generate-btn">Generate QR Code</button>
      </div>
      <div class = "qr-code">
        <img src = "images/qrcode.png" class = "qr-image">
      </div>
    </div>
    <script>
      var container = document.querySelector(".container");
      var generateBtn = document.querySelector(".generate-btn");
      var qrInput = document.querySelector(".qr-input");
      var qrImg = document.querySelector(".qr-image");

      generateBtn.onclick = function(){  
        if(qrInput.value.length > 0){
          generateBtn.innerText = "Generating QR Code...";
          qrImg.src = "https://api.qrserver.com/v1/create-qr-code/?size=170x170&data="
          +qrInput.value;
          qrImg.onload = function(){
            //To ensure qr code has been loaded fully before displaying
            container.classList.add("active");
            generateBtn.innerText = "Generate QR Code";
          }
        }
      }
    </script>
  </body>
</html>
